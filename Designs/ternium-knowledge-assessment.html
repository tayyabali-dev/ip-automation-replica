<!DOCTYPE html>
<html lang="es" class="scroll-smooth"><head><meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Assessment | Ember Ai</title>
<!-- Fonts -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&amp;display=swap" rel="stylesheet">
<!-- Tailwind CSS -->
<script src="https://cdn.tailwindcss.com"></script>
<!-- Iconify -->
<script src="https://code.iconify.design/iconify-icon/1.0.7/iconify-icon.min.js"></script>
<style>
body {
background-color: #F9FAFB; /* neutral-50 */
color: #171717;
-webkit-font-smoothing: antialiased;
font-family: 'Inter', sans-serif;
}
/* Custom Scrollbar */
::-webkit-scrollbar {
width: 6px;
height: 6px;
}
::-webkit-scrollbar-track {
background: transparent;
}
::-webkit-scrollbar-thumb {
background: #e5e5e5;
border-radius: 3px;
}
::-webkit-scrollbar-thumb:hover {
background: #d4d4d4;
}
/* Transitions */
.sidebar-text {
transition: opacity 0.2s, display 0.2s;
white-space: nowrap;
}
.collapsed .sidebar-text {
display: none;
opacity: 0;
}
.tooltip {
display: none;
}
.collapsed .group:hover .tooltip {
display: block;
}
/* Form Elements */
.radio-checked {
border-color: #FF5E00;
background-color: #FFF7ED; /* orange-50 */
box-shadow: 0 0 0 1px #FF5E00;
}
.radio-circle-checked {
border-color: #FF5E00;
background-color: #FF5E00;
}
.radio-circle-checked::after {
content: '';
display: block;
width: 8px;
height: 8px;
background-color: white;
border-radius: 50%;
margin: 3px;
}
.fade-enter {
animation: fadeIn 0.3s ease-in-out;
}
@keyframes fadeIn {
from { opacity: 0; transform: translateY(4px); }
to { opacity: 1; transform: translateY(0); }
}
</style>
<link id="all-fonts-link-font-geist" rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Geist:wght@300;400;500;600;700&amp;display=swap"><style id="all-fonts-style-font-geist">.font-geist { font-family: 'Geist', sans-serif !important; }</style><link id="all-fonts-link-font-roboto" rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;600;700&amp;display=swap"><style id="all-fonts-style-font-roboto">.font-roboto { font-family: 'Roboto', sans-serif !important; }</style><link id="all-fonts-link-font-montserrat" rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&amp;display=swap"><style id="all-fonts-style-font-montserrat">.font-montserrat { font-family: 'Montserrat', sans-serif !important; }</style><link id="all-fonts-link-font-poppins" rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&amp;display=swap"><style id="all-fonts-style-font-poppins">.font-poppins { font-family: 'Poppins', sans-serif !important; }</style><link id="all-fonts-link-font-playfair" rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700;900&amp;display=swap"><style id="all-fonts-style-font-playfair">.font-playfair { font-family: 'Playfair Display', serif !important; }</style><link id="all-fonts-link-font-instrument-serif" rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Instrument+Serif:wght@400;500;600;700&amp;display=swap"><style id="all-fonts-style-font-instrument-serif">.font-instrument-serif { font-family: 'Instrument Serif', serif !important; }</style><link id="all-fonts-link-font-merriweather" rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Merriweather:wght@300;400;700;900&amp;display=swap"><style id="all-fonts-style-font-merriweather">.font-merriweather { font-family: 'Merriweather', serif !important; }</style><link id="all-fonts-link-font-bricolage" rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Bricolage+Grotesque:wght@300;400;500;600;700&amp;display=swap"><style id="all-fonts-style-font-bricolage">.font-bricolage { font-family: 'Bricolage Grotesque', sans-serif !important; }</style><link id="all-fonts-link-font-jakarta" rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700;800&amp;display=swap"><style id="all-fonts-style-font-jakarta">.font-jakarta { font-family: 'Plus Jakarta Sans', sans-serif !important; }</style><link id="all-fonts-link-font-manrope" rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Manrope:wght@300;400;500;600;700;800&amp;display=swap"><style id="all-fonts-style-font-manrope">.font-manrope { font-family: 'Manrope', sans-serif !important; }</style><link id="all-fonts-link-font-space-grotesk" rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&amp;display=swap"><style id="all-fonts-style-font-space-grotesk">.font-space-grotesk { font-family: 'Space Grotesk', sans-serif !important; }</style><link id="all-fonts-link-font-work-sans" rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Work+Sans:wght@300;400;500;600;700;800&amp;display=swap"><style id="all-fonts-style-font-work-sans">.font-work-sans { font-family: 'Work Sans', sans-serif !important; }</style><link id="all-fonts-link-font-pt-serif" rel="stylesheet" href="https://fonts.googleapis.com/css2?family=PT+Serif:wght@400;700&amp;display=swap"><style id="all-fonts-style-font-pt-serif">.font-pt-serif { font-family: 'PT Serif', serif !important; }</style><link id="all-fonts-link-font-geist-mono" rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Geist+Mono:wght@300;400;500;600;700&amp;display=swap"><style id="all-fonts-style-font-geist-mono">.font-geist-mono { font-family: 'Geist Mono', monospace !important; }</style><link id="all-fonts-link-font-space-mono" rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&amp;display=swap"><style id="all-fonts-style-font-space-mono">.font-space-mono { font-family: 'Space Mono', monospace !important; }</style><link id="all-fonts-link-font-quicksand" rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300;400;500;600;700&amp;display=swap"><style id="all-fonts-style-font-quicksand">.font-quicksand { font-family: 'Quicksand', sans-serif !important; }</style><link id="all-fonts-link-font-nunito" rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Nunito:wght@300;400;500;600;700;800&amp;display=swap"><style id="all-fonts-style-font-nunito">.font-nunito { font-family: 'Nunito', sans-serif !important; }</style><link id="all-fonts-link-font-newsreader" rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Newsreader:opsz,wght@6..72,400..800&amp;display=swap"><style id="all-fonts-style-font-newsreader">.font-newsreader { font-family: 'Newsreader', serif !important; }</style><link id="all-fonts-link-font-google-sans-flex" rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Google+Sans+Flex:wght@400;500;600;700&amp;display=swap"><style id="all-fonts-style-font-google-sans-flex">.font-google-sans-flex { font-family: 'Google Sans Flex', sans-serif !important; }</style><link id="all-fonts-link-font-oswald" rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Oswald:wght@300;400;500;600;700&amp;display=swap"><style id="all-fonts-style-font-oswald">.font-oswald { font-family: 'Oswald', sans-serif !important; }</style><link id="all-fonts-link-font-dm-sans" rel="stylesheet" href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@300;400;500;600;700&amp;display=swap"><style id="all-fonts-style-font-dm-sans">.font-dm-sans { font-family: 'DM Sans', sans-serif !important; }</style><link id="all-fonts-link-font-cormorant" rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@300;400;500;600;700&amp;display=swap"><style id="all-fonts-style-font-cormorant">.font-cormorant { font-family: 'Cormorant Garamond', serif !important; }</style></head>
  <body class="flex h-screen overflow-hidden bg-neutral-50 text-neutral-900">
    <!-- Sidebar (Collapsed state consistent with design) -->
    <aside id="sidebar" class="hidden md:flex flex-col w-20 collapsed bg-white border-r border-neutral-200 h-full flex-shrink-0 z-20 transition-all duration-300 ease-in-out relative">
      <!-- Logo Area -->
      <div class="h-16 flex items-center justify-between px-6 border-b border-neutral-100 overflow-hidden shrink-0">
        <div class="flex items-center gap-2 text-[#FF5E00] whitespace-nowrap">
          <iconify-icon icon="solar:flame-linear" width="24" height="24" stroke-width="1.5" class="flex-shrink-0"></iconify-icon>
          <span class="font-semibold tracking-tight text-neutral-900 text-lg sidebar-text">
            Ember Ai
          </span>
        </div>
        <button onclick="toggleSidebar()" class="text-neutral-400 hover:text-neutral-900 transition-colors p-1 rounded hover:bg-neutral-100 absolute right-4">
          <iconify-icon id="sidebar-toggle-icon" icon="solar:double-alt-arrow-right-linear" width="20" height="20"></iconify-icon>
        </button>
      </div>

      <!-- Navigation Items -->
      <nav class="flex-1 overflow-y-auto overflow-x-hidden py-6 px-3 space-y-1">
        <a href="#" class="flex items-center gap-3 px-3 py-2.5 text-neutral-500 hover:text-neutral-900 hover:bg-neutral-50 rounded-lg transition-colors group relative">
          <iconify-icon icon="solar:home-smile-linear" width="20" height="20" class="flex-shrink-0"></iconify-icon>
          <span class="text-sm font-medium sidebar-text">Inicio</span>
          <span class="tooltip absolute left-full top-1/2 -translate-y-1/2 ml-2 bg-neutral-900 text-white text-xs px-2 py-1.5 rounded z-50 whitespace-nowrap shadow-sm">Inicio</span>
        </a>

        <!-- Active State for Assessments -->
        <a href="#" class="flex items-center justify-between px-3 py-2.5 bg-neutral-100 text-neutral-900 rounded-lg transition-colors group relative">
          <div class="flex items-center gap-3 overflow-hidden">
            <iconify-icon icon="solar:clipboard-check-linear" width="20" height="20" class="flex-shrink-0 text-neutral-900"></iconify-icon>
            <span class="text-sm font-medium sidebar-text">Evaluaciones</span>
          </div>
          <span class="tooltip absolute left-full top-1/2 -translate-y-1/2 ml-2 bg-neutral-900 text-white text-xs px-2 py-1.5 rounded z-50 whitespace-nowrap shadow-sm">Evaluaciones</span>
        </a>

        <a href="#" class="flex items-center gap-3 px-3 py-2.5 text-neutral-500 hover:text-neutral-900 hover:bg-neutral-50 rounded-lg transition-colors group relative">
          <iconify-icon icon="solar:book-bookmark-linear" width="20" height="20" class="flex-shrink-0"></iconify-icon>
          <span class="text-sm font-medium sidebar-text">Mi Aprendizaje</span>
          <span class="tooltip absolute left-full top-1/2 -translate-y-1/2 ml-2 bg-neutral-900 text-white text-xs px-2 py-1.5 rounded z-50 whitespace-nowrap shadow-sm">Mi Aprendizaje</span>
        </a>

        <a href="#" class="flex items-center gap-3 px-3 py-2.5 text-neutral-500 hover:text-neutral-900 hover:bg-neutral-50 rounded-lg transition-colors group relative">
          <iconify-icon icon="solar:chat-round-line-linear" width="20" height="20" class="flex-shrink-0 group-hover:text-[#FF5E00]"></iconify-icon>
          <span class="text-sm font-medium sidebar-text">Coach AI</span>
          <span class="tooltip absolute left-full top-1/2 -translate-y-1/2 ml-2 bg-neutral-900 text-white text-xs px-2 py-1.5 rounded z-50 whitespace-nowrap shadow-sm">Coach AI</span>
        </a>

        <a href="#" class="flex items-center gap-3 px-3 py-2.5 text-neutral-500 hover:text-neutral-900 hover:bg-neutral-50 rounded-lg transition-colors group relative">
          <iconify-icon icon="solar:chart-2-linear" width="20" height="20" class="flex-shrink-0"></iconify-icon>
          <span class="text-sm font-medium sidebar-text">Mi Progreso</span>
          <span class="tooltip absolute left-full top-1/2 -translate-y-1/2 ml-2 bg-neutral-900 text-white text-xs px-2 py-1.5 rounded z-50 whitespace-nowrap shadow-sm">Mi Progreso</span>
        </a>

        <a href="#" class="flex items-center gap-3 px-3 py-2.5 text-neutral-500 hover:text-neutral-900 hover:bg-neutral-50 rounded-lg transition-colors group relative">
          <iconify-icon icon="solar:diploma-verified-linear" width="20" height="20" class="flex-shrink-0"></iconify-icon>
          <span class="text-sm font-medium sidebar-text">Certificaciones</span>
          <span class="tooltip absolute left-full top-1/2 -translate-y-1/2 ml-2 bg-neutral-900 text-white text-xs px-2 py-1.5 rounded z-50 whitespace-nowrap shadow-sm">Certificaciones</span>
        </a>
      </nav>
      
      <!-- User Profile -->
      <div class="p-4 border-t border-neutral-100 flex-shrink-0 overflow-hidden">
        <div class="flex items-center gap-3 p-2 rounded-lg hover:bg-neutral-50 transition-colors cursor-pointer whitespace-nowrap">
          <div class="w-10 h-10 rounded-full bg-neutral-200 flex-shrink-0 flex items-center justify-center text-neutral-600 font-semibold text-sm border border-neutral-300">CM</div>
        </div>
      </div>
    </aside>

    <!-- Main Content Area -->
    <main class="flex-1 flex flex-col h-full overflow-hidden relative">
      <!-- Top Header / Navigation -->
      <header class="h-16 flex items-center justify-between px-6 border-b border-neutral-200 bg-white z-10 shrink-0">
        <div class="flex items-center gap-4">
          <!-- Mobile Menu Button -->
          <button class="md:hidden text-neutral-500 p-2 -ml-2">
            <iconify-icon icon="solar:hamburger-menu-linear" width="24" height="24"></iconify-icon>
          </button>
          
          <div class="flex flex-col">
            <h1 class="text-base font-semibold text-neutral-900">Evaluación: Gestión de Mantenimiento UNE-EN 17007</h1>
            <p class="text-xs text-neutral-500 hidden sm:block">Módulo 1: Procesos Estratégicos</p>
          </div>
        </div>
        
        <div class="flex items-center gap-3">
          <button class="hidden sm:flex items-center gap-2 px-3 py-1.5 text-xs font-medium text-neutral-500 hover:text-neutral-900 transition-colors">
            <iconify-icon icon="solar:flag-linear" width="16"></iconify-icon>
            Reportar problema
          </button>
          <div class="h-4 w-px bg-neutral-200 hidden sm:block"></div>
          <button class="flex items-center gap-2 px-4 py-2 bg-white border border-neutral-200 rounded-lg text-sm font-medium text-neutral-700 hover:bg-neutral-50 hover:text-neutral-900 transition-colors shadow-sm">
            <iconify-icon icon="solar:disk-linear" width="18"></iconify-icon>
            Guardar y Salir
          </button>
        </div>
      </header>

      <!-- Assessment Content -->
      <div class="flex-1 overflow-y-auto bg-neutral-50">
        <div class="max-w-3xl mx-auto px-4 py-8 md:py-12 min-h-full flex flex-col">
          
          <!-- Progress & Timer -->
          <div class="mb-8 space-y-2">
            <div class="flex items-end justify-between text-sm mb-2">
              <span class="font-medium text-neutral-900" id="progress-text">Pregunta 3 de 15</span>
              <div class="flex items-center gap-2 text-neutral-500 bg-white px-3 py-1 rounded-full border border-neutral-200 shadow-sm">
                <iconify-icon icon="solar:stopwatch-linear" width="16"></iconify-icon>
                <span class="font-mono font-medium" id="timer">14:30</span>
              </div>
            </div>
            <div class="h-2 w-full bg-neutral-200 rounded-full overflow-hidden">
              <div id="progress-bar" class="h-full bg-[#FF5E00] rounded-full transition-all duration-500 ease-out" style="width: 20%"></div>
            </div>
          </div>

          <!-- Question Card Container -->
          <div id="question-container" class="bg-white border border-neutral-200 rounded-2xl shadow-sm p-6 md:p-10 flex-1 flex flex-col fade-enter">
            
            <!-- Type Badge -->
            <div class="mb-6">
              <span id="question-type" class="inline-flex items-center gap-1.5 px-2.5 py-1 rounded-md text-xs font-medium bg-neutral-100 text-neutral-600 tracking-wide uppercase"><iconify-icon icon="solar:list-check-linear" width="14"></iconify-icon> Selección Múltiple</span>
            </div>

            <!-- Question Text -->
            <h2 id="question-text" class="text-xl md:text-2xl font-medium text-neutral-900 leading-tight tracking-tight mb-8">¿Cuál es el objetivo principal del proceso 'Preservar' según el marco UNE-EN 17007?</h2>

            <!-- Options / Input Area -->
            <div id="answer-area" class="space-y-3 mb-10 flex-1"><div class="option-card group flex items-start gap-3 p-4 rounded-xl border border-neutral-200 cursor-pointer hover:border-neutral-300 hover:bg-neutral-50 transition-all">
              <div class="radio-circle mt-0.5 w-5 h-5 rounded-full border border-neutral-300 flex items-center justify-center bg-white shrink-0 group-hover:border-neutral-400 transition-colors"></div>
              <div class="text-sm text-neutral-700 font-medium">A) Reparar equipos después de una falla</div>
            </div><div class="option-card group flex items-start gap-3 p-4 rounded-xl border border-neutral-200 cursor-pointer hover:border-neutral-300 hover:bg-neutral-50 transition-all">
              <div class="radio-circle mt-0.5 w-5 h-5 rounded-full border border-neutral-300 flex items-center justify-center bg-white shrink-0 group-hover:border-neutral-400 transition-colors"></div>
              <div class="text-sm text-neutral-700 font-medium">B) Mantener las condiciones de funcionamiento del activo sin intervención correctiva</div>
            </div><div class="option-card group flex items-start gap-3 p-4 rounded-xl border border-neutral-200 cursor-pointer hover:border-neutral-300 hover:bg-neutral-50 transition-all">
              <div class="radio-circle mt-0.5 w-5 h-5 rounded-full border border-neutral-300 flex items-center justify-center bg-white shrink-0 group-hover:border-neutral-400 transition-colors"></div>
              <div class="text-sm text-neutral-700 font-medium">C) Planificar paradas extraordinarias</div>
            </div><div class="option-card group flex items-start gap-3 p-4 rounded-xl border border-neutral-200 cursor-pointer hover:border-neutral-300 hover:bg-neutral-50 transition-all">
              <div class="radio-circle mt-0.5 w-5 h-5 rounded-full border border-neutral-300 flex items-center justify-center bg-white shrink-0 group-hover:border-neutral-400 transition-colors"></div>
              <div class="text-sm text-neutral-700 font-medium">D) Documentar lecciones aprendidas</div>
            </div></div>

            <!-- Divider -->
            <div class="h-px bg-neutral-100 w-full mb-6"></div>

            <!-- Confidence Level (Optional) -->
            <div class="flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-2">
              <div class="text-sm text-neutral-500 font-medium">¿Qué tan seguro estás de tu respuesta?</div>
              <div class="flex items-center gap-2">
                <button class="confidence-btn flex-1 sm:flex-none px-3 py-1.5 rounded-lg border border-neutral-200 text-xs font-medium text-neutral-500 hover:bg-neutral-50 hover:border-neutral-300 transition-all focus:ring-2 focus:ring-offset-1 focus:ring-neutral-200">
                  Baja
                </button>
                <button class="confidence-btn flex-1 sm:flex-none px-3 py-1.5 rounded-lg border border-neutral-200 text-xs font-medium text-neutral-500 hover:bg-neutral-50 hover:border-neutral-300 transition-all focus:ring-2 focus:ring-offset-1 focus:ring-neutral-200">
                  Media
                </button>
                <button class="confidence-btn flex-1 sm:flex-none px-3 py-1.5 rounded-lg border border-neutral-200 text-xs font-medium text-neutral-500 hover:bg-neutral-50 hover:border-neutral-300 transition-all focus:ring-2 focus:ring-offset-1 focus:ring-neutral-200">
                  Alta
                </button>
              </div>
            </div>

          </div>

          <!-- Bottom Navigation -->
          <div class="flex items-center justify-between mt-8">
            <button onclick="prevQuestion()" class="flex items-center gap-2 px-6 py-3 text-sm font-medium text-neutral-500 hover:text-neutral-900 transition-colors">
              <iconify-icon icon="solar:arrow-left-linear" width="20"></iconify-icon>
              Anterior
            </button>
            <button onclick="nextQuestion()" class="flex items-center gap-2 px-8 py-3 bg-[#171717] hover:bg-neutral-800 text-white text-sm font-medium rounded-xl shadow-lg shadow-neutral-900/10 transition-transform hover:-translate-y-0.5 active:translate-y-0">
              Siguiente
              <iconify-icon icon="solar:arrow-right-linear" width="20"></iconify-icon>
            </button>
          </div>

        </div>
      </div>
    </main>

    <script>
      // Sidebar Toggle Logic
      let isSidebarCollapsed = true;
      const sidebar = document.getElementById('sidebar');
      const sidebarIcon = document.getElementById('sidebar-toggle-icon');

      function toggleSidebar() {
          isSidebarCollapsed = !isSidebarCollapsed;
          if (isSidebarCollapsed) {
              sidebar.classList.remove('w-72');
              sidebar.classList.add('w-20', 'collapsed');
              sidebarIcon.setAttribute('icon', 'solar:double-alt-arrow-right-linear');
          } else {
              sidebar.classList.remove('w-20', 'collapsed');
              sidebar.classList.add('w-72');
              sidebarIcon.setAttribute('icon', 'solar:double-alt-arrow-left-linear');
          }
      }

      // Confidence Button Logic
      document.querySelectorAll('.confidence-btn').forEach(btn => {
        btn.addEventListener('click', function() {
          document.querySelectorAll('.confidence-btn').forEach(b => {
             b.classList.remove('bg-neutral-900', 'text-white', 'border-neutral-900');
             b.classList.add('text-neutral-500', 'border-neutral-200');
          });
          this.classList.remove('text-neutral-500', 'border-neutral-200');
          this.classList.add('bg-neutral-900', 'text-white', 'border-neutral-900');
        });
      });

      // Question Data (Dummy Content)
      const questions = [
        {
          id: 3,
          type: 'Selección Múltiple',
          icon: 'solar:list-check-linear',
          text: "¿Cuál es el objetivo principal del proceso 'Preservar' según el marco UNE-EN 17007?",
          format: 'multiple-choice',
          options: [
            { id: 'A', text: "Reparar equipos después de una falla" },
            { id: 'B', text: "Mantener las condiciones de funcionamiento del activo sin intervención correctiva" },
            { id: 'C', text: "Planificar paradas extraordinarias" },
            { id: 'D', text: "Documentar lecciones aprendidas" }
          ]
        },
        {
          id: 4,
          type: 'Matriz RACI',
          icon: 'solar:users-group-rounded-linear',
          text: "Para la aprobación de una orden de trabajo de emergencia, ¿quién es el Accountable (responsable final)?",
          format: 'multiple-choice', // Using MC format for RACI per UI convention usually
          options: [
            { id: 'A', text: "Técnico" },
            { id: 'B', text: "Supervisor" },
            { id: 'C', text: "Jefe de Mantenimiento" },
            { id: 'D', text: "Planificador" }
          ]
        },
        {
          id: 5,
          type: 'Respuesta Corta',
          icon: 'solar:pen-new-square-linear',
          text: "Describe brevemente las actividades clave del proceso 'Mejorar' y cómo se diferencia del mantenimiento correctivo.",
          format: 'text-input'
        }
      ];

      let currentQuestionIndex = 0; // Starts at Index 0 (Question 3)

      function renderQuestion() {
        const q = questions[currentQuestionIndex];
        const container = document.getElementById('question-container');
        
        // Reset animation
        container.classList.remove('fade-enter');
        void container.offsetWidth; // trigger reflow
        container.classList.add('fade-enter');

        // Update Header Info
        document.getElementById('progress-text').textContent = `Pregunta ${q.id} de 15`;
        document.getElementById('progress-bar').style.width = `${(q.id / 15) * 100}%`;
        
        // Update Question Info
        const typeEl = document.getElementById('question-type');
        typeEl.innerHTML = `<iconify-icon icon="${q.icon}" width="14"></iconify-icon> ${q.type}`;
        document.getElementById('question-text').textContent = q.text;

        // Render Answer Area
        const answerArea = document.getElementById('answer-area');
        answerArea.innerHTML = '';

        if (q.format === 'multiple-choice') {
          q.options.forEach(opt => {
            const div = document.createElement('div');
            div.className = 'option-card group flex items-start gap-3 p-4 rounded-xl border border-neutral-200 cursor-pointer hover:border-neutral-300 hover:bg-neutral-50 transition-all';
            div.onclick = () => selectOption(div);
            
            div.innerHTML = `
              <div class="radio-circle mt-0.5 w-5 h-5 rounded-full border border-neutral-300 flex items-center justify-center bg-white shrink-0 group-hover:border-neutral-400 transition-colors"></div>
              <div class="text-sm text-neutral-700 font-medium">${opt.id}) ${opt.text}</div>
            `;
            answerArea.appendChild(div);
          });
        } else if (q.format === 'text-input') {
          const wrapper = document.createElement('div');
          wrapper.className = 'relative';
          wrapper.innerHTML = `
            <textarea 
              class="w-full h-40 p-4 bg-white border border-neutral-200 rounded-xl text-sm text-neutral-900 placeholder-neutral-400 focus:outline-none focus:ring-2 focus:ring-[#FF5E00]/20 focus:border-[#FF5E00] transition-all resize-none"
              placeholder="Escribe tu respuesta aquí..."
              maxlength="500"
              oninput="updateCharCount(this)"
            ></textarea>
            <div class="absolute bottom-3 right-3 text-xs text-neutral-400">
              <span id="char-count">0</span>/500
            </div>
          `;
          answerArea.appendChild(wrapper);
        }
      }

      function selectOption(element) {
        // Deselect all
        document.querySelectorAll('.option-card').forEach(el => {
          el.classList.remove('radio-checked');
          el.querySelector('.radio-circle').classList.remove('radio-circle-checked');
        });
        // Select clicked
        element.classList.add('radio-checked');
        element.querySelector('.radio-circle').classList.add('radio-circle-checked');
      }

      function updateCharCount(textarea) {
        document.getElementById('char-count').innerText = textarea.value.length;
      }

      function nextQuestion() {
        if (currentQuestionIndex < questions.length - 1) {
          currentQuestionIndex++;
          renderQuestion();
        } else {
          // Loop back to start for demo purposes
          currentQuestionIndex = 0;
          renderQuestion();
        }
      }

      function prevQuestion() {
        if (currentQuestionIndex > 0) {
          currentQuestionIndex--;
          renderQuestion();
        }
      }

      // Initial Render
      renderQuestion();

      // Countdown Timer Logic
      let time = 14 * 60 + 30; // 14:30
      setInterval(() => {
        if (time > 0) {
          time--;
          const m = Math.floor(time / 60).toString().padStart(2, '0');
          const s = (time % 60).toString().padStart(2, '0');
          document.getElementById('timer').textContent = `${m}:${s}`;
        }
      }, 1000);

    </script>
  
</body></html>